<div class="md:px-16 py-16 px-8 flex flex-col items-center">

  <h1 class="text-2xl text-center md:text-3xl">Vecino, ¿qué quieres pedir?</h1>
  <h2 class="text-lg md:text-xl text-gray-600 mb-4"><%= l(@workday.work_date, format: "%A %-d de %B").capitalize %></h2>

  <div class="border bg-white rounded-lg p-4 md:w-96">
    <%= simple_form_for @order do |f| %>

    <%= f.hidden_field :workday_id, value: @workday.id %>
    <h2 class="text-lg">Datos de contacto</h2>
    <%= f.simple_fields_for :customer do |customer_fields| %>
    <div class="grid grid-cols-2 gap-1">
      <%= customer_fields.input :name %>
      <%= customer_fields.input :last_name %>
    </div>
    <div class="grid grid-cols-2 gap-1">
      <%= customer_fields.input :phone_number, hint: "Ej: 912341234" %>
      <%= customer_fields.input :apartment %>
    </div>
    <% end %>
    <h2 class="text-lg">Platos</h2>
    <%= f.simple_fields_for :order_products, @order.order_products do |order_product_fields| %>
    <div class="flex w-full items-center mb-4">
      <div class="w-3/4 flex items-center">

          <% if order_product_fields.object.product.cover_photo.attached?%>
          <%= image_tag order_product_fields.object.product.cover_photo.variant(gravity: "center", resize: "400x400^", crop: '400x400+0+0'), class: "w-10 overflow-hidden rounded-lg mr-2" %>
          <% end %>

        <div>
          <div><%= order_product_fields.object.product.name %></div>
          <div class="text-gray-600"><%= currency_formatter(order_product_fields.object.product.price) %> c/u</div>
        </div>
      </div>
      <div class="w-1/4">
        <%= order_product_fields.input :quantity %>
        <%= order_product_fields.hidden_field :product_id %>
      </div>
    </div>
    <% end %>
    <%= f.input :delivery_comment %>

    <%= f.submit "Hacer el pedido", type: :submit, class: "px-4 py-2 rounded-md bg-yellow-500 text-white cursor-pointer" %>
    <% end %>
  </div>
</div>